<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="template.xhtml">
	<ui:define name="content">
		<h:form>
    <h:outputText id="display" value="#{globalCounterBean.count}" styleClass="ui-widget display" />
    

    <br />

    <p:commandButton value="Click" actionListener="#{globalCounterBean.increment}" />
</h:form>
            
<p:push  onmessage="handleMessage" channel="counter" />

<script type="text/javascript">
    function handleMessage(evt, data) {
        $('#display').html(data);
    }
</script>
                

	</ui:define>
</ui:composition>

</html>